{% extends "base.html" %}
{% block title %}Cart - EcoFinds{% endblock %}
{% block content %}
<div class="max-w-5xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-6">Your Cart</h1>

  {% if cart_items and cart_items|length > 0 %}
    <div class="bg-white rounded-2xl shadow p-6">
      <ul class="divide-y divide-gray-200">
        {% for item in cart_items %}
        <li class="py-4 flex items-center justify-between">
          <div>
            <p class="text-lg font-medium text-gray-900">{{ item.name }}</p>
            <p class="text-sm text-gray-600">Quantity: {{ item.quantity }}</p>
          </div>
          <div class="flex items-center gap-4">
            <p class="text-lg font-semibold text-emerald-600">${{ '%.2f'|format(item.price * item.quantity) }}</p>
            <a href="{{ url_for('remove_from_cart', product_id=item.id) }}" class="text-red-600 hover:underline">Remove</a>
          </div>
        </li>
        {% endfor %}
      </ul>
      <div class="flex justify-between items-center mt-6 border-t pt-4">
        <p class="text-xl font-bold text-gray-900">Total:</p>
        <p class="text-xl font-bold text-emerald-600">
          ${{ '%.2f'|format(total) }}
        </p>
      </div>
      <div class="mt-6 flex justify-end">
        <a href="{{ url_for('checkout') }}" 
           class="bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-xl shadow">
          Proceed to Checkout
        </a>
      </div>
    </div>
  {% else %}
    <div class="bg-gray-50 rounded-xl p-6 text-center">
      <p class="text-gray-600 text-lg">Your cart is empty ðŸ›’</p>
      <a href="{{ url_for('index') }}" 
         class="mt-4 inline-block bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-xl shadow">
        Browse Products
      </a>
    </div>
  {% endif %}
</div>
{% endblock %}